[
    [
        "validation.rule.template",
        "validation.comax.negative_stock",
        "[D2] Negative inventory in Comax Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "INTERNAL_AUDIT",
        "source_sheet", "CmxProdS",
        "condition", "cps_Stock,<,0",
        "on_failure_task_type", "task.validation.comax_internal_audit",
        "on_failure_title", "Negative Stock: ${cps_NameHe}",
        "on_failure_notes", "SKU ${cps_SKU} (${cps_NameHe}) has a negative stock value of ${cps_Stock} in the latest Comax import."
    ],
    [
        "validation.rule.template",
        "validation.comax.row_count_decrease",
        "[C] Comax Staging row count decreased compared to Master.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "ROW_COUNT_COMPARISON",
        "source_sheet", "CmxProdM",
        "target_sheet", "CmxProdS",
        "on_failure_quarantine", "TRUE",
        "on_failure_task_type", "task.validation.row_count_decrease",
        "on_failure_title", "Comax Import Row Count Decreased",
        "on_failure_notes", "The number of rows in CmxProdS (${targetRowCount}) is less than the number of rows in CmxProdM (${sourceRowCount}). This may indicate a partial or damaged Comax import file."
    ],
    [
        "validation.rule.template",
        "validation.web.row_count_decrease",
        "[W] Web Products Staging row count decreased compared to Master.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_staging",
        "test_type", "ROW_COUNT_COMPARISON",
        "source_sheet", "WebProdM",
        "target_sheet", "WebProdS_EN",
        "on_failure_quarantine", "TRUE",
        "on_failure_task_type", "task.validation.row_count_decrease",
        "on_failure_title", "Web Products Import Row Count Decreased",
        "on_failure_notes", "The number of rows in WebProdS_EN (${targetRowCount}) is less than the number of rows in WebProdM (${sourceRowCount}). This may indicate a partial or damaged Web Products import file."
    ],
    [
        "validation.rule.template",
        "validation.web_translations.row_count_decrease",
        "[X] Web Translations Staging row count decreased compared to Master.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_xlt_staging",
        "test_type", "ROW_COUNT_COMPARISON",
        "source_sheet", "WebXltM",
        "target_sheet", "WebXltS",
        "on_failure_quarantine", "TRUE",
        "on_failure_task_type", "task.validation.row_count_decrease",
        "on_failure_title", "Web Translations Import Row Count Decreased",
        "on_failure_notes", "The number of rows in WebXltS (${targetRowCount}) is less than the number of rows in WebXltM (${sourceRowCount}). This may indicate a partial or damaged Web Translations import file."
    ],
    [
        "validation.rule.template",
        "validation.web_translations.schema_mismatch",
        "[WebXlt] Column mismatch between WebXltM and WebXltS.",
        "stable",
        "enabled", "TRUE",
        "test_type", "SCHEMA_COMPARISON",
        "source_schema", "schema.data.WebXltM",
        "target_schema", "schema.data.WebXltS",
        "on_failure_task_type", "task.validation.webxlt_data_integrity",
        "on_failure_title", "WebXlt Schema Mismatch: Columns",
        "on_failure_notes", "The columns in WebXltS do not match the expected schema from WebXltM."
    ],
    [
        "validation.rule.template",
        "validation.web_translations.row_count_mismatch",
        "[WebXlt] Row count mismatch between WebXltS and WebXltM.",
        "stable",
        "enabled", "TRUE",
        "test_type", "ROW_COUNT_COMPARISON",
        "source_sheet", "WebXltM",
        "target_sheet", "WebXltS",
        "on_failure_task_type", "task.validation.webxlt_data_integrity",
        "on_failure_title", "WebXlt Row Count Mismatch",
        "on_failure_notes", "The number of rows in WebXltS is less than the number of rows in WebXltM."
    ],
    [
        "validation.rule.template",
        "validation.web_translations.empty_cells",
        "[WebXlt] Empty cells found in populated columns of WebXltS.",
        "stable",
        "enabled", "FALSE",
        "test_type", "DATA_COMPLETENESS",
        "source_sheet", "WebXltS",
        "on_failure_task_type", "task.validation.webxlt_data_integrity",
        "on_failure_title", "WebXlt Data Incompleteness",
        "on_failure_notes", "Empty cells were found in populated columns of the WebXltS sheet."
    ],

    [
        "validation.rule.template",
        "validation.comax.vintage_mismatch",
        "[C6] Vintage mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_Vintage,cps_Vintage",
        "source_filter", "cpm_IsWeb,כן",
        "on_failure_task_type", "task.validation.vintage_mismatch",
        "on_failure_title", "Comax Vintage Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different vintage in master (${cpm_Vintage}) versus staging (${cps_Vintage})."
    ],
    [
        "validation.rule.template",
        "validation.web.new_product_in_staging",
        "[A1] Web Staging product not in Web Master.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_staging",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "WebProdS_EN",
        "source_key", "wps_ID",
        "target_sheet", "WebProdM",
        "target_key", "wpm_ID",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.web_master_discrepancy",
        "on_failure_title", "New Web Product: ${wps_PostTitle}",
        "on_failure_notes", "Product SKU ${wps_SKU} exists in the web import but not in the Web Master sheet."
    ],
    [
        "validation.rule.template",
        "validation.web.sku_mismatch",
        "[A3] SKU mismatch between Web Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "WebProdM",
        "sheet_B", "WebProdS_EN",
        "key_A", "wpm_ID",
        "key_B", "wps_ID",
        "compare_fields", "wpm_SKU,wps_SKU",
        "on_failure_task_type", "task.validation.web_master_discrepancy",
        "on_failure_title", "Web SKU Mismatch: ${wps_PostTitle}",
        "on_failure_notes", "Product '${wps_PostTitle}' (ID: ${wps_ID}) has a SKU mismatch. Master SKU: '${wpm_SKU}', Staging SKU: '${wps_SKU}'."
    ],
    [
        "validation.rule.template",
        "validation.web.name_mismatch",
        "[A4] Name mismatch between Web Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "WebDetM",
        "sheet_B", "WebProdS_EN",
        "key_A", "wdm_WebIdEn",
        "key_B", "wps_ID",
        "compare_fields", "wdm_NameEn,wps_PostTitle",
        "on_failure_task_type", "task.validation.name_mismatch",
        "on_failure_title", "Web Name Mismatch: ${wps_PostTitle}",
        "on_failure_notes", "Product '${wps_PostTitle}' (ID: ${wps_ID}) has a name mismatch. Master: '${wdm_NameEn}', Staging: '${wps_PostTitle}'."
    ],
    [
        "validation.rule.template",
        "validation.web.master_missing_from_staging",
        "[A2] Web Master product not in Web Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "web_staging",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "WebProdM",
        "source_key", "wpm_ID",
        "target_sheet", "WebProdS_EN",
        "target_key", "wps_ID",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.web_master_discrepancy",
        "on_failure_title", "Web Product Missing from Import: ${wpm_PostTitle}",
        "on_failure_notes", "Product SKU ${wpm_SKU} (ID: ${wpm_ID}) exists in the Web Master sheet but was not found in the latest web import."
    ],
    [
        "validation.rule.template",
        "validation.comax.master_missing_from_staging",
        "[C1] Active Comax Master product not in Comax Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "CmxProdM",
        "source_key", "cpm_SKU",
        "source_filter", "cpm_IsActive,1",
        "target_sheet", "CmxProdS",
        "target_key", "cps_SKU",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.comax_master_discrepancy",
        "on_failure_title", "Active Comax Product Missing from Import: ${cpm_NameHe}",
        "on_failure_notes", "Active product SKU ${cpm_SKU} from Comax Master is missing from the latest Comax import."
    ],
    [
        "validation.rule.template",
        "validation.audit.row_count_mismatch",
        "[M1] Row count mismatch between Comax Master and Product Audit.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "ROW_COUNT_COMPARISON",
        "source_sheet", "CmxProdM",
        "target_sheet", "SysProductAudit",
        "on_failure_quarantine", "FALSE",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Audit Sheet Row Count Mismatch",
        "on_failure_notes", "The number of rows in CmxProdM (${sourceRowCount}) does not match SysProductAudit (${targetRowCount}). The comax import job may need to be re-run."
    ],
    [
        "validation.rule.template",
        "validation.master.web_sku_missing_comax",
        "[B1] Web Master SKU not in Comax Master (excludes bundles).",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "WebProdM",
        "source_key", "wpm_SKU",
        "source_filter", "wpm_TaxProductType,simple",
        "target_sheet", "CmxProdM",
        "target_key", "cpm_SKU",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Web Product SKU Missing from Comax Master: ${wpm_PostTitle}",
        "on_failure_notes", "Web Product SKU ${wpm_SKU} (ID: ${wpm_ID}) exists in Web Master but not in Comax Master."
    ],
    [
        "validation.rule.template",
        "validation.master.comax_sku_missing_web",
        "[B2] Comax Master SKU not in Web Master.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "CmxProdM",
        "source_key", "cpm_SKU",
        "source_filter", "cpm_IsWeb,1",
        "target_sheet", "WebProdM",
        "target_key", "wpm_SKU",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Comax Product SKU Missing from Web Master: ${cpm_NameHe}",
        "on_failure_notes", "Comax Product SKU ${cpm_SKU} (Name: ${cpm_NameHe}) exists in Comax Master and is marked as web product, but is missing from Web Master."
    ],
    [
        "validation.rule.template",
        "validation.master.web_name_missing_details",
        "[B3] Web Master Name not in Web Details Master.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "WebProdM",
        "source_key", "wpm_ID",
        "target_sheet", "WebDetM",
        "target_key", "wdm_WebIdEn",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Web Product Name Missing from Web Details Master: ${wpm_PostTitle}",
        "on_failure_notes", "Web Product ID ${wpm_ID} (Name: ${wpm_PostTitle}) exists in Web Master but not in Web Details Master."
    ],
    [
        "validation.rule.template",
        "validation.master.web_details_name_missing_master",
        "[B4] Web Details Master Name not in Web Master.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "EXISTENCE_CHECK",
        "source_sheet", "WebDetM",
        "source_key", "wdm_WebIdEn",
        "target_sheet", "WebProdM",
        "target_key", "wpm_ID",
        "invert_result", "TRUE",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Web Details Master Name Missing from Web Master: ${wdm_NameEn}",
        "on_failure_notes", "Web Product ID ${wdm_WebIdEn} (Name: ${wdm_NameEn}) exists in Web Details Master but not in Web Master."
    ],
    [
        "validation.rule.template",
        "validation.master.published_status_mismatch",
        "[B7] Web Master Published status not in Comax Master.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "WebProdM",
        "sheet_B", "CmxProdM",
        "key_A", "wpm_SKU",
        "key_B", "cpm_SKU",
        "compare_fields", "wpm_PostStatus,cpm_IsWeb",
        "field_translations_map_cpm_IsWeb", "{\"כן\":\"1\", \"לא\":\"0\"}",
        "on_failure_task_type", "task.validation.master_master_discrepancy",
        "on_failure_title", "Web Product Published Status Mismatch with Comax Master: ${wpm_PostTitle}",
        "on_failure_notes", "Web Product SKU ${wpm_SKU} (Name: ${wpm_PostTitle}) has a published status mismatch. Web Master Published: '${wpm_PostStatus}', Comax Master IsWeb: '${cpm_IsWeb}'."
    ],

    [
        "validation.rule.template",
        "validation.comax.name_mismatch",
        "[C3] Name mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_NameHe,cps_NameHe",
        "on_failure_task_type", "task.validation.name_mismatch",
        "on_failure_title", "Comax Name Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different name in master (${cpm_NameHe}) versus staging (${cps_NameHe})."
    ],
    [
        "validation.rule.template",
        "validation.comax.price_mismatch",
        "[C4] Price mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "FALSE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_Price,cps_Price",
        "on_failure_task_type", "task.validation.field_mismatch",
        "on_failure_title", "Comax Price Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different price in master (${cpm_Price}) versus staging (${cps_Price})."
    ],

    [
        "validation.rule.template",
        "validation.comax.is_web_mismatch",
        "[C7] IsWeb mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_IsWeb,cps_IsWeb",
        "field_translations_map_cpm_IsWeb", "{\"TRUE\":\"1\", \"true\":\"1\", \"FALSE\":\"0\", \"false\":\"0\", \"Yes\":\"1\", \"No\":\"0\", \"Active\":\"1\", \"Inactive\":\"0\", \"כן\":\"1\", \"לא\":\"0\"}",
        "field_translations_map_cps_IsWeb", "{\"TRUE\":\"1\", \"true\":\"1\", \"FALSE\":\"0\", \"false\":\"0\", \"Yes\":\"1\", \"No\":\"0\", \"Active\":\"1\", \"Inactive\":\"0\", \"כן\":\"1\", \"לא\":\"0\"}",
        "on_failure_task_type", "task.validation.status_mismatch",
        "on_failure_title", "Comax IsWeb Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different IsWeb status in master (${cpm_IsWeb}) versus staging (${cps_IsWeb})."
    ],
    [
        "validation.rule.template",
        "validation.comax.is_active_mismatch",
        "[C8] IsActive mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_IsActive,cps_IsActive",
        "field_translations_map_cpm_IsActive", "{\"TRUE\":\"1\", \"true\":\"1\", \"FALSE\":\"0\", \"false\":\"0\", \"Yes\":\"1\", \"No\":\"0\", \"Active\":\"1\", \"Inactive\":\"0\", \"כן\":\"1\", \"לא\":\"0\"}",
        "field_translations_map_cps_IsActive", "{\"TRUE\":\"1\", \"true\":\"1\", \"FALSE\":\"0\", \"false\":\"0\", \"Yes\":\"1\", \"No\":\"0\", \"Active\":\"1\", \"Inactive\":\"0\", \"כן\":\"1\", \"לא\":\"0\"}",
        "on_failure_task_type", "task.validation.status_mismatch",
        "on_failure_title", "Comax IsActive Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different IsActive status in master (${cpm_IsActive}) versus staging (${cps_IsActive})."
    ],
    [
        "validation.rule.template",
        "validation.comax.is_archived_mismatch",
        "[C9] IsArchived mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "FALSE",
        "validation_suite", "comax_staging",
        "test_type", "FIELD_COMPARISON",
        "sheet_A", "CmxProdM",
        "sheet_B", "CmxProdS",
        "key_A", "cpm_SKU",
        "key_B", "cps_SKU",
        "compare_fields", "cpm_IsArchived,cps_IsArchived",
        "on_failure_task_type", "task.validation.field_mismatch",
        "on_failure_title", "Comax IsArchived Mismatch: ${cpm_NameHe}",
        "on_failure_notes", "SKU ${cpm_SKU} has a different IsArchived status in master (${cpm_IsArchived}) versus staging (${cps_IsArchived})."
    ],
    [
        "validation.rule.template",
        "validation.comax.schema_mismatch",
        "[D1] Column mismatch between Comax Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "test_type", "SCHEMA_COMPARISON",
        "source_schema", "schema.data.CmxProdM",
        "target_schema", "schema.data.CmxProdS",
        "on_failure_task_type", "task.validation.comax_data_integrity",
        "on_failure_title", "Comax Schema Mismatch: Columns",
        "on_failure_notes", "The columns in CmxProdS do not match the expected schema from CmxProdM."
    ],
    [
        "validation.rule.template",
        "validation.comax.empty_cells",
        "[D3] Empty cells found in populated columns of Comax Staging.",
        "stable",
        "enabled", "FALSE",
        "test_type", "DATA_COMPLETENESS",
        "source_sheet", "CmxProdS",
        "on_failure_task_type", "task.validation.comax_data_integrity",
        "on_failure_title", "Comax Data Incompleteness",
        "on_failure_notes", "Empty cells were found in populated columns of the CmxProdS sheet."
    ],
    [
        "validation.rule.template",
        "validation.orders.schema_mismatch",
        "[E1] Column mismatch between Web Orders Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "test_type", "SCHEMA_COMPARISON",
        "source_schema", "schema.data.WebOrdM",
        "target_schema", "schema.data.WebOrdS",
        "on_failure_task_type", "task.validation.order_staging_failure",
        "on_failure_title", "Web Orders Schema Mismatch: Columns",
        "on_failure_notes", "The columns in WebOrdS do not match the expected schema from WebOrdM."
    ],
    [
        "validation.rule.template",
        "validation.orders.empty_cells",
        "[E2] Empty cells found in populated columns of Web Orders Staging.",
        "stable",
        "enabled", "FALSE",
        "test_type", "DATA_COMPLETENESS",
        "source_sheet", "WebOrdS",
        "on_failure_task_type", "task.validation.order_staging_failure",
        "on_failure_title", "Web Orders Data Incompleteness",
        "on_failure_notes", "Empty cells were found in populated columns of the WebOrdS sheet."
    ],
    [
        "validation.rule.template",
        "validation.web.schema_mismatch",
        "[F1] Column mismatch between Web Products Master and Staging.",
        "stable",
        "enabled", "TRUE",
        "test_type", "SCHEMA_COMPARISON",
        "source_schema", "schema.data.WebProdM",
        "target_schema", "schema.data.WebProdS_EN",
        "on_failure_task_type", "task.validation.web_data_integrity",
        "on_failure_title", "Web Products Schema Mismatch: Columns",
        "on_failure_notes", "The columns in WebProdS_EN do not match the expected schema from WebProdM."
    ],
    [
        "validation.rule.template",
        "validation.web.empty_cells",
        "[F2] Empty cells found in populated columns of Web Products Staging.",
        "stable",
        "enabled", "FALSE",
        "test_type", "DATA_COMPLETENESS",
        "source_sheet", "WebProdS_EN",
        "on_failure_task_type", "task.validation.web_data_integrity",
        "on_failure_title", "Web Products Data Incompleteness",
        "on_failure_notes", "Empty cells were found in populated columns of the WebProdS_EN sheet."
    ],
    [
        "validation.rule.template",
        "validation.comax.archived_stock",
        "[Z2] Archived Comax Product has Non-Zero Stock.",
        "stable",
        "enabled", "TRUE",
        "priority", "HIGH",
        "validation_suite", "master_master",
        "test_type", "INTERNAL_AUDIT",
        "source_sheet", "CmxProdM",
        "condition", "cpm_IsArchived,IS_NOT_EMPTY,AND,cpm_Stock,>,0",
        "on_failure_task_type", "task.validation.archived_comax_stock_mismatch",
        "on_failure_title", "Archived Comax Product with Stock: ${cpm_NameHe}",
        "on_failure_notes", "Comax Product SKU ${cpm_SKU} (Name: ${cpm_NameHe}) is archived, but has non-zero stock (${cpm_Stock})."
    ]
]