<div id="inventory-widget-container" style="padding: 0;">
  <div class="card">
    <div class="card-header">
      <h5>Inventory</h5>
    </div>
    <div class="card-body" id="inventory-widget-body">
      <p>Loading Inventory Widget...</p>
    </div>
  </div>
</div>

<script>
  /**
   * Populates the inventory widget.
   * @param {Object} data - The inventory data from the backend.
   */
  function updateInventoryView(data) {
    const widgetBody = document.getElementById('inventory-widget-body'); // Targeting the body
    if (!data) {
      widgetBody.innerHTML = `<p class="text-danger">Error: No data received from server.</p>`;
      return;
    }
    if (data.error) {
      widgetBody.innerHTML = `<p class="text-danger">${data.error}</p>`;
      return;
    }

    let html = ''; // Remove the h5, as it is now in the card structure

    // Brurya Summary
    html += '<p>Brurya Products: <strong>' + (data.bruryaProductCount || 0) + '</strong></p>';
    html += '<p>Brurya Total Stock: <strong>' + (data.bruryaTotalStock || 0) + '</strong></p>';
    html += '<hr>';

    html += '<h6>Open Inventory Tasks</h6>';
    html += '<p>Negative Inventory: <strong>' + (data.openNegativeInventoryTasksCount || 0) + '</strong></p>';
    html += '<p>Inventory Count: <strong>' + (data.openInventoryCountTasksCount || 0) + '</strong></p>';
    html += '<p>Inventory Count Reviews: <strong>' + (data.openInventoryCountReviewTasksCount || 0) + '</strong></p>';
    // Comax Inventory Export Section removed.
    // HTML for Comax Inventory Export section removed.
    // State-aware logic for Comax Inventory Export removed.
    widgetBody.innerHTML = html; // Update widgetBody content
  }

  // handleComaxExportClick function removed.
  // handleComaxConfirmClick function removed.
</script>
